/*
 * File: app/view/MyViewport.js
 *
 * This file was generated by Sencha Architect version 4.2.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('M_IV_DISTR.view.MyViewport', {
    extend: 'Ext.container.Viewport',
    alias: 'widget.myviewport',

    requires: [
        'M_IV_DISTR.view.MyViewportViewModel',
        'M_IV_DISTR.view.MyViewportViewController',
        'M_IV_DISTR.view.TbButton',
        'M_IV_DISTR.view.MyForm',
        'M_IV_DISTR.view.MyGrid',
        'M_IV_DISTR.view.MyGrid1',
        'Ext.form.Panel',
        'Ext.grid.Panel',
        'Ext.resizer.Splitter',
        'Ext.form.FieldSet',
        'Ext.form.field.Date',
        'Ext.form.RadioGroup',
        'Ext.form.field.Radio'
    ],

    controller: 'myviewport',
    viewModel: {
        type: 'myviewport'
    },
    height: 250,
    style: 'background-color: white',
    width: 400,

    layout: {
        type: 'vbox',
        align: 'stretch'
    },
    items: [
        {
            xtype: 'toolbarBtn'
        },
        {
            xtype: 'container',
            flex: 1,
            padding: '0 10 0 10',
            layout: {
                type: 'vbox',
                align: 'stretch',
                pack: 'center'
            },
            items: [
                {
                    xtype: 'container',
                    flex: 0.5,
                    layout: {
                        type: 'vbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'myform',
                            bodyPadding: 0
                        },
                        {
                            xtype: 'myGrid',
                            flex: 1
                        }
                    ]
                },
                {
                    xtype: 'splitter',
                    collapseTarget: 'prev'
                },
                {
                    xtype: 'container',
                    flex: 0.5,
                    layout: {
                        type: 'vbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'fieldset',
                            flex: 1,
                            height: 170,
                            maxHeight: 170,
                            minHeight: 170,
//                            title: '[ Search ]',
                            layout: {
                                type: 'vbox',
                                align: 'stretch',
                                pack: 'center'
                            },
                            collapsible: true,
                            items: [
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_IV_NO',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '매입번호',
                                            emptyText: '(Double Click)',
                                            listeners: {
                                                afterrender: function(c) {
                                                	c.getEl().on('dblclick', function() {
                                                		var popup = Ext.create("M_IV_DISTR.view.MyWindow1");
                                            			popup.setSize(Ext.getBody().getViewSize());
                                                        
                                                        popup.center();
                                                        popup.show();

                                                        var popStore = Ext.getStore('PopStore');
                                                        popStore.removeAll();                                        
                                                        
                                                    });
                                                }
                                            },
                                        },
                                        {
                                            xtype: 'datefield',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '매입일자',
                                            format: 'Y-m-d',
                                            listeners: {
                                                render: {
                                                    fn: 'onDatefieldRender',
                                                    single: false
                                                }
                                            },
                                            id: 'V_IV_DT'
                                        },
                                        {
                                            xtype: 'combobox',
                                            id: 'V_IV_TYPE',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '매입형태',
                                            displayField: 'DTL_NM',
                                            valueField: 'DTL_CD',
                                            editable: false,
                                            margin: '0 0 0 30',
                                            store: Ext.create('Ext.data.Store',{
                                          		autoLoad: true,
                                          		storeId: 'storeMA02',
                                          		proxy: {
                                                      type: 'ajax',
                                                      extraParams: {
                                                       	V_MAST_CD: 'MA02',
                                                       	V_GRID: 'Y'
                                                      },	
                                                      api: {
                                                          read: '/HSPF01/common/sql/Combobox.jsp'
                                                      },
                                                      reader: {
                                                          type: 'json',
                                                          rootProperty: 'resultList'
                                                      }
                                                  }
                                          	}),
                                          	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                            },
                                            listeners : {
                                            	change: function(me, newValue, oldValue, eOpts) {
                                                	if(oldValue === newValue){
                                                	} else if(newValue === 'EXIV'){
                                                		Ext.getCmp('gridAddBtn').setDisabled(false);
                                                	} else {
                                                		Ext.getCmp('gridAddBtn').setDisabled(true);
                                                	}
                                                }
                                            }
                                        
                                        },
                                        {
                                        	xtype: 'textfield',
                                        	id: 'V_M_BP_NM2',
                                        	margin: '0 0 0 30',
                                        	maxWidth: 250,
                                        	minWidth: 250,
                                        	width: 250,
                                        	fieldLabel: '매입처',
//                                        	name: 'search_field',
                                            listeners: {
                                                afterrender: function(c) {
                                                	c.getEl().on('dblclick', function() {
                                            			var popup = Ext.create("Popup.view.WinMBpPop");
                                            			popup.show();
                                            			
                                            			Ext.getCmp('fieldType').setValue('M_IV_DISTR2');
                                            			var store = Ext.getStore('WinMBpPopStore');
                                            			store.removeAll();
                                                    });
                                                }
                                            },
                                            emptyText: '(Double Click)',
                                        },
                                        {
                                            xtype: 'textfield',
                                            id: 'V_M_BP_CD2',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            hidden: true
//                                            name: 'search_field'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_T_BP_NM',
                                            margin: '',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '지급처',
                                            emptyText: '(Double Click)',
                                            listeners: {
                                                afterrender: function(c) {
                                                	c.getEl().on('dblclick', function() {
                                            			var popup = Ext.create("Popup.view.WinBpPop");
                                            			popup.show();
                                            			
                                            			Ext.getCmp('fieldType').setValue('M_IV_DISTR');
                                            			var store = Ext.getStore('WinBpPopStore');
                                            			store.removeAll();
                                                    });
                                                }
                                            },
//                                            hidden: true
                                        },
                                        {
                                        	xtype: 'textfield',
                                        	id: 'V_T_BP_CD',
                                        	margin: '',
                                            hidden: true
                                        },
                                        {
                                            xtype: 'datefield',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '지불예정일',
                                            format: 'Y-m-d',
                                            listeners: {
                                                render: {
                                                    fn: 'onDatefieldRender1',
                                                    single: false
                                                }
                                            },
                                            id: 'V_IV_ISSUE_DT'
                                        },
                                        {
                                            xtype: 'combobox',
                                            id: 'V_CUR',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '화폐단위',
                            	        	value: 'USD',
                            	        	displayField: 'DTL_NM',
                            	        	valueField: 'DTL_CD',
                            	        	editable: false,
                            	        	store: Ext.create('Ext.data.Store',{
                            	        		autoLoad: true,
                            	        		storeId: 'store1',
                            	        		proxy: {
                            	        			type: 'ajax',
                            	        			extraParams: {
                            	        				V_MAST_CD: 'BA04',
                            	        				V_GRID: 'Y'
                            	        			},	
                            	        			api: {
                            	        				read: '/HSPF01/common/sql/Combobox.jsp'
                            	        			},
                            	        			reader: {
                            	        				type: 'json',
                            	        				rootProperty: 'resultList'
                            	        			}
                            	        		}
                            	        	}),
                            	        	hidden: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            id: 'V_XCHG_RT',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '선물환율',
                                            value: 1
                                        },
                                        {
                                        	xtype: 'textfield',
                                        	margin: '0 0 0 30',
                                        	maxWidth: 230,
                                        	minWidth: 230,
                                        	width: 230,
                                        	fieldLabel: '전표번호',
                                        	labelWidth: 70,
                                        	blankText: '',
                                        	id: 'V_TEMP_GL_NO',
                                        	editable: false
//                                        	hidden: true
                                        },
                                    ]
                                },
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_BL_DOC_NO',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: 'B/L번호',
                                            hidden: true
                                        },
                                        {
                                            xtype: 'combobox',
                                            id: 'V_TAX_CD',
//                                            margin: '0 0 0 30',
                                            maxWidth: 300,
                                            minWidth: 300,
                                            width: 300,
                                            fieldLabel: '세금계산서신고사업장',
                                            labelWidth: 150,
                                            blankText: '',
                                            displayField: 'DTL_NM',
                                            valueField: 'DTL_CD',
                                            editable: false,
                                            value: 'TX3',
                                            store: Ext.create('Ext.data.Store',{
                                          		autoLoad: true,
                                          		storeId: 'storeMA16',
                                          		proxy: {
                                                      type: 'ajax',
                                                      extraParams: {
                                                       	V_MAST_CD: 'MA16',
                                                       	V_GRID: 'Y'
                                                      },	
                                                      api: {
                                                          read: '/HSPF01/common/sql/Combobox.jsp'
                                                      },
                                                      reader: {
                                                          type: 'json',
                                                          rootProperty: 'resultList'
                                                      }
                                                  }
                                          	}),
                                          	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                                  }
                                        },
                                        {
                                            xtype: 'combobox',
                                            maxWidth: 350,
                                            minWidth: 350,
                                            width: 350,
                                            fieldLabel: '결제방법',
                                            id: 'V_PAY_METH',
                                            blankText: '',
                                            displayField: 'DTL_NM',
                                            valueField: 'DTL_CD',
                                            editable: false,
                                            margin: '0 0 0 30',
                                            value: 'CH',
                                            store: Ext.create('Ext.data.Store',{
                                          		autoLoad: true,
                                          		storeId: 'store1',
                                          		proxy: {
                                                      type: 'ajax',
                                                      extraParams: {
                                                       	V_MAST_CD: 'MA03',
                                                       	V_GRID: 'Y'
                                                      },	
                                                      api: {
                                                          read: '/HSPF01/common/sql/Combobox.jsp'
                                                      },
                                                      reader: {
                                                          type: 'json',
                                                          rootProperty: 'resultList'
                                                      }
                                                  }
                                          	}),
                                          	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                                  }
                                        
                                        },
                                        {
                            	        	xtype: 'combobox',
                                            maxWidth: 350,
                                            minWidth: 350,
                                            width: 350,
                                            margin: '0 0 0 30',
                            	        	fieldLabel: '가격조건',
                            	        	id: 'V_IN_TERMS',
                                            margin: '0 0 0 30',
                            	        	labelWidth: 120,
                            	        	name: 'search_field',
                            	        	blankText: '',
                            	        	displayField: 'DTL_NM',
                            	        	valueField: 'DTL_CD',
                            	        	editable: false,
                            	        	hidden: true,
                            	        	store: Ext.create('Ext.data.Store',{
                            	        		autoLoad: true,
                            	        		storeId: 'store1',
                            	        		proxy: {
                            	        			type: 'ajax',
                            	        			extraParams: {
                            	        				V_MAST_CD: 'MA04',
                            	        				V_GRID: 'Y'
                            	        			},	
                            	        			api: {
                            	        				read: '/HSPF01/common/sql/Combobox.jsp'
                            	        			},
                            	        			reader: {
                            	        				type: 'json',
                            	        				rootProperty: 'resultList'
                            	        			}
                            	        		}
                            	        	}),
                            	        	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                            }
                            	        },
                                        {
                                            xtype: 'radiogroup',
                                            flex: 1,
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '전자세금계산서유무',
                                            labelWidth: 150,
                                            id: 'V_ELEC_VAT_YN',
                                            items: [
                                                    {
                                                        xtype: 'radiofield',
                                                        boxLabel: 'Y',
                                                        name: 'rb1',
                                                        id: 'rb1Y',
                                                        inputValue: 'Y',
                                                        checked: true,
                                                    },
                                                    {
                                                        xtype: 'radiofield',
                                                        boxLabel: 'N',
                                                        name: 'rb1',
                                                        id: 'rb1N',
                                                        inputValue : 'N',
                                                    }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'mygrid1',
                            flex: 1
                        }
                    ]
                }
            ]
        }
    ]

});