/*
 * File: app/view/WinPoPop.js
 *
 * This file was generated by Sencha Architect version 4.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Y_PUMS_DISTR.view.WinRiskPop', {
	extend : 'Ext.window.Window',
	alias : 'widget.winriskpop',

	requires : [ 'Y_PUMS_DISTR.view.WinAddRowViewModel1', 'Ext.form.FieldSet', 'Ext.form.field.Date', 'Ext.grid.Panel', 'Ext.view.Table', 'Ext.grid.column.RowNumberer', 'Ext.grid.column.Date', 'Ext.grid.column.Number', 'Ext.form.field.Number', 'Ext.selection.CheckboxModel', 'Ext.grid.plugin.Exporter', 'Ext.button.Button' ],

	viewModel : {
		type : 'winriskpop'
	},
	id: 'WinRiskPop',
	modal : true,
	height : 567,
	width : 917,
	title : '리스크관리팝업',

	layout : {
		type : 'vbox',
		align : 'stretch'
	},
	items : [ {
		xtype : 'container',
		modal : true,
		shim : false,
		padding : 10,
		layout : 'center',
		items : [ {
			xtype : 'fieldset',
			height : 80,
			maxHeight : 80,
			minHeight : 80,
			title : '',
			layout : {
				type : 'hbox',
				align : 'middle'
			},
			items : [

			{
				xtype : 'datefield',
				flex : 1,
				maxWidth : 230,
				minWidth : 230,
				width : 230,
				fieldLabel : '결의일자',
				labelWidth : 80,
				listeners : {
					render : function(datefield) {
						var nows = new Date('2018-01-01');
//						nows.setDate(1);
						datefield.setValue(nows);
					}
				},
				format : 'Y-m-d',
				id : 'W_RISK_DT_FR',
				name: 'risk_search'
			}, {
				xtype : 'datefield',
				maxWidth : 160,
				minWidth : 160,
				width : 160,
				fieldLabel : '~',
				labelWidth : 10,
				listeners : {
					render : function(datefield) {
						var nows = new Date();
						datefield.setValue(nows);
					}
				},
				format : 'Y-m-d',
				id : 'W_RISK_DT_TO',
				name: 'risk_search'
			}, {
				xtype : 'textfield',
				flex : 1,
				margin : '0 0 0 30',
				maxWidth : 250,
				minWidth : 250,
				width : 250,
				fieldLabel : '리스크문서번호',
				labelWidth : 100,
				id : 'W_RISK_DOC_NO',
				name: 'risk_search'
			},
			{   xtype: 'combobox',
			    id: 'W_RISK_TYPE',
				margin : '0 0 0 30',
			    maxWidth: 200,
			    minWidth: 200,
			    width: 200,
			    fieldLabel: '리스크분류',
			    displayField: 'value_nm',
			    valueField : 'value',
			    editable: false,
				store : Ext.create('Ext.data.Store',{
							fields : ['value','value_nm'],
							data : [['T', '전체'], 
							        ['I', '철강'],
							        ['M', '수입육'],
							        ['MD', '기타'],
//									['IA','H-BEAM'],
//									['IB','철근'],
//									['IC','고철(생철)'],
//									['ID','주철관'],
//									['MA','냉장'],
//									['MB','냉동'],
//									['MC','곡물'],
//									['MD','신발']
							
							]
				}),
				value: 'T'
			}, 
			{
				xtype : 'textfield',
				flex : 1,
				margin : '0 0 0 30',
				maxWidth : 250,
				minWidth : 250,
				width : 250,
				fieldLabel : '판매처명',
				labelWidth : 100,
				id : 'W_S_BP_NM2',
				name: 'approv_search'
			},
			{
                xtype: 'checkboxfield',
                fieldLabel: '미사용리스크 포함',
                margin: '0 0 0 30',
                labelAlign: 'right',
                boxLabel: '',
                id: 'W_RISK_YN'
            }, ]
		} ]
	}, {
		xtype : 'container',
		flex : 1,
		layout : 'fit',
		items : [ {
			xtype : 'gridpanel',
			flex : 1,
			style : 'padding: 10px;',
			bodyBorder : false,
			header : false,
			store : 'PopStore',
			id: 'popGrid',
			viewConfig: {
            	enableTextSelection: true,
            },
            tbar: [
                   {
                       xtype: 'container',
                       flex: 1
                   },
                   {
                       xtype: 'button',
                       glyph: 'xf1c3@FontAwesome',
                       id: 'xlsxDown1',
                       cfg: {
                           type: 'excel07',
                           ext: 'xlsx'
                       },
                       iconCls: 'grid-excel-btn',
                   }
               ],
			columns : [ {
				xtype : 'rownumberer',
				width : 40
			}, {
				xtype : 'gridcolumn',
				hidden : true,
				text : 'V_TYPE'
			}, 
			{

				xtype : 'gridcolumn',
				dataIndex : 'RISK_TYPE_NM',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				enableTextSelection : true,
				text : '리스크분류',
				width: 100
				
			}
			,
			{
				xtype : 'gridcolumn',
				dataIndex : 'RISK_NO',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				enableTextSelection : true,
				text : '리스크관리번호',
				width: 170
			},{
				xtype : 'gridcolumn',
				dataIndex : 'RISK_DOC_NO',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				enableTextSelection : true,
				text : '리스크문서번호',
				width: 170
			},{
				xtype : 'gridcolumn',
				dataIndex : 'RISK_NM',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				enableTextSelection : true,
				text : '리스크관리명',
				width: 300
			},  {
				xtype : 'datecolumn',
				style : 'text-align: center; font-weight: bold;',
				align : 'center',
				dataIndex : 'RISK_DT',
				enableTextSelection : true,
				text : '결의일자',
				format : 'Y-m-d',
			}, {
				xtype : 'gridcolumn',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				dataIndex : 'S_BP_NM',
				enableTextSelection : true,
				text : '판매처',
				width: 250
			}, {
				xtype : 'gridcolumn',
				style : 'text-align: center; font-weight: bold;',
				dataIndex : 'SALE_TYPE_NM',
				enableTextSelection : true,
				text : '판매유형',
			}, {
				xtype : 'gridcolumn',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				dataIndex : 'IV_TYPE_NM',
				enableTextSelection : true,
				text : '구매유형',
			},
			{
				xtype : 'gridcolumn',
				style : 'text-align: center; font-weight: bold;',
				sortable : true,
				dataIndex : 'RISK_YN',
				enableTextSelection : true,
				text : '사용여부',
				align: 'center'
			},
			
			],
			plugins : [ {
				ptype : 'gridexporter'
			} ]
		} ]
	} ],
	dockedItems : [ {
		xtype : 'container',
		dock : 'bottom',
		margin : '0 0 3 0',
		width : 100,
		layout : {
			type : 'hbox',
			align : 'middle',
			pack : 'center'
		},
		items : [ {
			xtype : 'button',
			height : 30,
			id : 'w_riskSelBtn',
			maxHeight : 30,
			minHeight : 30,
			width : 100,
			text : '조회'
		}, {
			xtype : 'button',
			height : 30,
			id : 'w_riskRegBtn',
			margin : '0 0 0 3',
			maxHeight : 30,
			minHeight : 30,
			width : 100,
			text : '선택'
		} ]
	} ]

});