/*
 * File: app/view/WinBillPop.js
 *
 * This file was generated by Sencha Architect version 4.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Popup.view.WinBillPop', {
    extend: 'Ext.window.Window',
    alias: 'widget.winbillpop',

    requires: [
        'Popup.view.WinBillPopViewModel',
        'Ext.form.Label',
        'Ext.tab.Panel',
        'Ext.tab.Tab',
        'Ext.form.RadioGroup',
        'Ext.form.field.Radio',
        'Ext.form.field.Date',
      'Ext.form.field.Number',
//        'Popup.override.form.field.Number',
        'Ext.form.field.ComboBox',
        'Ext.grid.Panel',
        'Ext.grid.column.RowNumberer',
        'Ext.grid.column.Date',
        'Ext.grid.column.Number',
        'Ext.view.Table',
        'Ext.grid.plugin.Exporter',
        'Ext.grid.feature.Summary',
        'Ext.grid.plugin.CellEditing',
        'Ext.form.field.Hidden'
    ],

    viewModel: {
        type: 'winbillpop'
    },
    modal: true,
    height: 800,
    id: 'myWindow',
    scrollable: 'vertical',
    width: 1200,
    bodyPadding: 5,
    title: '세금계산서등록',

    layout: {
        type: 'vbox',
        align: 'stretch'
    },
    items: [
        {
            xtype: 'container',
            border: 1,
            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
            layout: {
                type: 'vbox',
                align: 'stretch',
                padding: 3
            },
            items: [
                {
                    xtype: 'container',
                    layout: {
                        type: 'vbox',
                        align: 'stretch',
                        padding: '0 5 0 0'
                    },
                    items: [
                        {
                            xtype: 'container',
                            layout: {
                                type: 'hbox',
                                align: 'middle',
                                padding: 3
                            },
                            items: [
                                {
                                    xtype: 'container',
                                    flex: 0.4,
                                    items: [
                                        {
                                            xtype: 'label',
                                            style: 'font-size : 16px; font-weight: bold;',
                                            text: '전자세금계산서'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    layout: {
                                        type: 'hbox',
                                        align: 'middle'
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            layout: {
                                                type: 'hbox',
                                                align: 'stretch'
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    flex: 1,
                                                    id: 'NTS_ISSUE_ID',
                                                    width: 300,
                                                    fieldLabel: '승인번호',
                                                    labelAlign: 'right',
                                                    labelWidth: 60,
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            layout: {
                                                type: 'hbox',
                                                align: 'stretch'
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    flex: 1,
                                                    id: 'SERIAL_NUMBER',
                                                    width: 300,
                                                    fieldLabel: '관리번호',
                                                    labelAlign: 'right',
                                                    labelWidth: 60,
                                                    readOnly: true
                                                },
                                                {
                                                	xtype: 'textfield',
                                                	flex: 1,
                                                	id: 'V_SHOW_TYPE',
                                                	width: 300,
                                                	fieldLabel: '타입',
                                                	labelAlign: 'right',
                                                	labelWidth: 60,
                                                	readOnly: true,
                                                	hidden: true
                                                },
                                                {
                                                	xtype: 'textfield',
                                                	flex: 1,
                                                	id: 'V_DTL_TYPE',
                                                	width: 300,
                                                	fieldLabel: '항목타입',
                                                	labelAlign: 'right',
                                                	labelWidth: 60,
                                                	readOnly: true,
                                                	hidden: true
                                                },
                                                {
                                                	xtype: 'textfield',
                                                	id: 'V_SUPP_BP_CD',
                                                	readOnly: true,
                                                	hidden: true
                                                },
                                                {
                                                	xtype: 'textfield',
                                                	id: 'V_BYR_BP_CD',
                                                	readOnly: true,
                                                	hidden: true
                                                },
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            border: 1,
                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                            layout: {
                                type: 'hbox',
                                align: 'stretch',
                                padding: 2
                            },
                            items: [
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            style: 'background-color : #366DE3;',
                                            width: 50,
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'label',
                                                    html: '공<br><br><br><br>급<br><br><br><br>자',
                                                    style: 'font-size : 15px; color: white;'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 1,
                                            layout: {
                                                type: 'vbox',
                                                align: 'stretch'
                                            },
                                            items: [
                                                {
                                                    xtype: 'container',
                                                    height: 180,
                                                    layout: {
                                                        type: 'vbox',
                                                        align: 'stretch'
                                                    },
                                                    items: [
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'SUPP_BUSINESS_LICENSE_NUMBER',
                                                                    fieldLabel: '등록번호',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 0.7
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'SUPP_BUSINESS_NAME',
                                                                    fieldLabel: '상호(법인명)',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 0.7,
                                                                    id: 'SUPP_REPRESENTATIVE_NAME',
                                                                    fieldLabel: '성명',
                                                                    labelAlign: 'right',
                                                                    labelWidth: 40,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'SUPP_BUSINESS_ADDRESS',
                                                                    fieldLabel: '사업장주소',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'SUPP_IND_TYPE',
                                                                    fieldLabel: '업태',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 0.7,
                                                                    id: 'SUPP_IND_CLASS',
                                                                    fieldLabel: '종목',
                                                                    labelAlign: 'right',
                                                                    labelWidth: 40,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'SUPP_CODE',
                                                                    fieldLabel: '종사업장코드',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'tabpanel',
                                                    activeTab: 0,
                                                    items: [
                                                        {
                                                            xtype: 'panel',
                                                            title: '업무담당',
                                                            layout: {
                                                                type: 'vbox',
                                                                align: 'stretch'
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                    	{
                                                                            xtype: 'container',
                                                                            flex: 1,
                                                                            layout: {
                                                                                type: 'hbox',
                                                                                align: 'stretch'
                                                                            },
                                                                            items: [
                                                                                {
                                                                                    xtype: 'textfield',
                                                                                    flex: 1,
                                                                                    id: 'SUPP_CHARGE_NAME',
                                                                                    fieldLabel: '담당자',
                                                                                    labelWidth: 50,
                                                                                    readOnly: true
                                                                                },
                                                                                {
                                                                                    xtype: 'button',
                                                                                    text: '검색'
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            xtype: 'container',
                                                                            flex: 0.9,
                                                                            layout: {
                                                                                type: 'hbox',
                                                                                align: 'stretch'
                                                                            },
                                                                            items: [
                                                                            	{
                                                                                    xtype: 'textfield',
                                                                                    flex: 0.9,
                                                                                    id: 'SUPP_CHARGE_DEPT',
                                                                                    fieldLabel: '부서',
                                                                                    labelWidth: 60,
                                                                                    readOnly: true,
                                                                                    hidden: true
                                                                                }
                                                                            ]
                                                                        },
                                                                        
                                                                    ]
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 1,
                                                                            id: 'SUPP_CHARGE_TEL',
                                                                            fieldLabel: '전화',
                                                                            labelWidth: 50,
                                                                            readOnly: true
                                                                        },
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 0.9,
                                                                            id: 'SUPP_CHARGE_PHONE',
                                                                            fieldLabel: '핸드폰',
                                                                            labelWidth: 60,
                                                                            readOnly: true
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 1,
                                                                            id: 'SUPP_CHARGE_MAIL',
                                                                            fieldLabel: '이메일',
                                                                            labelWidth: 50,
                                                                            readOnly: true
                                                                        },
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 0.9,
                                                                            id: 'SUPP_CHARGE_ID',
                                                                            fieldLabel: '담당자ID',
                                                                            labelWidth: 60,
                                                                            readOnly: true,
                                                                            hidden: true
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            style: 'background-color : #366DE3;',
                                            width: 60,
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'label',
                                                    html: '공<br><br>급<br><br>받<br><br>는<br><br>자',
                                                    style: 'font-size : 15px; color: white;'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 1,
                                            layout: {
                                                type: 'vbox',
                                                align: 'stretch'
                                            },
                                            items: [
                                                {
                                                    xtype: 'container',
                                                    height: 180,
                                                    layout: {
                                                        type: 'vbox',
                                                        align: 'stretch'
                                                    },
                                                    items: [
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'CUST_BUSINESS_LICENSE_NUMBER',
                                                                    fieldLabel: '등록번호',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 0.7
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'CUST_BUSINESS_NAME',
                                                                    fieldLabel: '상호(법인명)',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 0.7,
                                                                    id: 'CUST_REPRESENTATIVE_NAME',
                                                                    fieldLabel: '성명',
                                                                    labelAlign: 'right',
                                                                    labelWidth: 40,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'CUST_BUSINESS_ADDRESS',
                                                                    fieldLabel: '사업장주소',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'CUST_IND_TYPE',
                                                                    fieldLabel: '업태',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                },
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 0.7,
                                                                    id: 'CUST_IND_CLASS',
                                                                    fieldLabel: '종목',
                                                                    labelAlign: 'right',
                                                                    labelWidth: 40,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            xtype: 'container',
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch',
                                                                padding: 2
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    flex: 1,
                                                                    id: 'CUST_CODE',
                                                                    fieldLabel: '종사업장코드',
                                                                    labelWidth: 85,
                                                                    readOnly: true
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'tabpanel',
                                                    activeTab: 0,
                                                    items: [
                                                        {
                                                            xtype: 'panel',
                                                            title: '업무담당',
                                                            layout: {
                                                                type: 'vbox',
                                                                align: 'stretch'
                                                            },
                                                            items: [
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                    	{
                                                                            xtype: 'container',
                                                                            flex: 1,
                                                                            layout: {
                                                                                type: 'hbox',
                                                                                align: 'stretch'
                                                                            },
                                                                            items: [
                                                                                {
                                                                                    xtype: 'textfield',
                                                                                    flex: 1,
                                                                                    id: 'CUST_CHARGE_NAME1',
                                                                                    fieldLabel: '담당자',
                                                                                    labelWidth: 50,
                                                                                    readOnly: true
                                                                                },
                                                                                {
                                                                                    xtype: 'button',
                                                                                    text: '검색',
                                                                                    id: 'BYREmpSelBtn'
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            xtype: 'container',
                                                                            flex: 0.9,
                                                                            layout: {
                                                                                type: 'hbox',
                                                                                align: 'stretch'
                                                                            },
                                                                            items: [
                                                                            	{
                                                                                    xtype: 'textfield',
                                                                                    flex: 0.9,
                                                                                    id: 'CUST_CHARGE_DEPT1',
                                                                                    fieldLabel: '부서',
                                                                                    labelWidth: 60,
                                                                                    readOnly: true,
                                                                                    hidden: true
                                                                                }
                                                                            ]
                                                                        },
                                                                        
                                                                    ]
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 1,
                                                                            id: 'CUST_CHARGE_TEL1',
                                                                            fieldLabel: '전화',
                                                                            labelWidth: 50,
                                                                            readOnly: true
                                                                        },
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 0.9,
                                                                            id: 'CUST_CHARGE_PHONE1',
                                                                            fieldLabel: '핸드폰',
                                                                            readOnly: true,
                                                                            labelWidth: 60
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    xtype: 'container',
                                                                    flex: 1,
                                                                    layout: {
                                                                        type: 'hbox',
                                                                        align: 'stretch',
                                                                        padding: 2
                                                                    },
                                                                    items: [
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 1,
                                                                            id: 'CUST_CHARGE_MAIL1',
                                                                            fieldLabel: '이메일',
                                                                            labelWidth: 50,
                                                                            readOnly: true
                                                                        },
                                                                        {
                                                                            xtype: 'textfield',
                                                                            flex: 0.9,
                                                                            id: 'CUST_CHARGE_ID1',
                                                                            fieldLabel: '담당자ID',
                                                                            labelWidth: 60,
                                                                            readOnly: true,
                                                                            hidden: true
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    xtype: 'container',
                    layout: {
                        type: 'vbox',
                        align: 'stretch',
                        padding: '0 5 0 0'
                    },
                    items: [
                        {
                            xtype: 'container',
                            flex: 1,
                            layout: {
                                type: 'hbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'radiogroup',
                                    flex: 1,
                                    width: 400,
                                    fieldLabel: '세액종류',
                                    items: [
                                        {
                                            xtype: 'radiofield',
                                            boxLabel: '과세(10%)',
                                            id : 'V_VAT_TYPE_A',
                                            readOnly: true,
                                            checked: true
                                        },
                                        {
                                            xtype: 'radiofield',
                                            id : 'V_VAT_TYPE_B',
                                            readOnly: true,
                                            boxLabel: '영세(0%)'
                                        },
                                        {
                                            xtype: 'radiofield',
                                            id : 'V_VAT_TYPE_C',
                                            readOnly: true,
                                            boxLabel: '면세'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    flex: 1
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            layout: {
                                type: 'hbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'radiogroup',
                                    flex: 1,
                                    width: 400,
                                    fieldLabel: '작성방법',
                                    id: 'V_QTY_YN',
                                    items: [
                                        {
                                            xtype: 'radiofield',
                                            name: 'QTY_YN',
                                            inputValue: 'Y',
                                            boxLabel: '수량/단가 입력'
                                        },
                                        {
                                            xtype: 'radiofield',
                                            name: 'QTY_YN',
                                            inputValue: 'N',
                                            boxLabel: '공급가액 입력',
                                            checked: true
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    flex: 1
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            items: [
                                {
                                    xtype: 'container',
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'datefield',
                                                    fieldLabel: '작성일',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    fieldStyle: 'text-align: center;',
                                                    format: 'Y-m-d',
                                                    id : 'V_ISSUE_DT'
                                                    
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.5,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    fieldLabel: '공급가액',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly:true ,
                                                    align: 'end',
                                                    id: 'V_SUPP_AMT',
                                                    useThousandSeparator: true,
                                                    
                                                    /* 오버라이드 하면 오류발생.. 우선 여기서 처리 */
                                                    toRawNumber: function (value) {
                                                        return String(value).replace(this.decimalSeparator, '.').replace(new RegExp(Ext.util.Format.thousandSeparator, "g"), '');
                                                    },
                                                    valueToRaw: function (value) {
                                                        var me = this;
                                                        var format = "0,000";
                                                        
                                                        value = me.parseValue(Ext.util.Format.number(value, format));
                                                        value = me.fixPrecision(value);
                                                        value = Ext.isNumber(value) ? value : parseFloat(me.toRawNumber(value));
                                                        value = isNaN(value) ? '' : String(Ext.util.Format.number(value, format)).replace('.', me.decimalSeparator);
                                                        return value;
                                                    },
                                                    getSubmitValue: function () {
                                                        var me = this,
                                                            value = me.callParent();

                                                        if (!me.submitLocaleSeparator) {
                                                            value = me.toRawNumber(value);
                                                        }
                                                        return value;
                                                    },
                                                    parseValue: function (value) {
                                                        if (!this.useThousandSeparator)
                                                            return this.callParent(arguments);
                                                        value = parseFloat(this.toRawNumber(value));
                                                        return isNaN(value) ? null : value;
                                                    },
                                                    getErrors: function (value) {
                                                        var me = this,
                                                            errors = Ext.form.field.Text.prototype.getErrors.apply(me, arguments),
                                                            format = Ext.String.format,
                                                            num;

                                                        value = Ext.isDefined(value) ? value : this.processRawValue(this.getRawValue());

                                                        if (value.length < 1) { // if it's blank and textfield didn't flag it then it's valid
                                                            return errors;
                                                        }

                                                        value = me.toRawNumber(value);

                                                        if (isNaN(value.replace(Ext.util.Format.thousandSeparator, ''))) {
                                                            errors.push(format(me.nanText, value));
                                                        }

                                                        num = me.parseValue(value);

                                                        if (me.minValue === 0 && num < 0) {
                                                            errors.push(this.negativeText);
                                                        }
                                                        else if (num < me.minValue) {
                                                            errors.push(format(me.minText, me.minValue));
                                                        }

                                                        if (num > me.maxValue) {
                                                            errors.push(format(me.maxText, me.maxValue));
                                                        }

                                                        return errors;
                                                    },
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.5,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    fieldLabel: '세액',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly:true ,
                                                    id : 'V_TAX',
                                                    useThousandSeparator: true,
                                                    
                                                    /* 오버라이드 하면 오류발생.. 우선 여기서 처리 */
                                                    toRawNumber: function (value) {
                                                        return String(value).replace(this.decimalSeparator, '.').replace(new RegExp(Ext.util.Format.thousandSeparator, "g"), '');
                                                    },
                                                    valueToRaw: function (value) {
                                                        var me = this;
                                                        var format = "0,000";
                                                        
                                                        value = me.parseValue(Ext.util.Format.number(value, format));
                                                        value = me.fixPrecision(value);
                                                        value = Ext.isNumber(value) ? value : parseFloat(me.toRawNumber(value));
                                                        value = isNaN(value) ? '' : String(Ext.util.Format.number(value, format)).replace('.', me.decimalSeparator);
                                                        return value;
                                                    },
                                                    getSubmitValue: function () {
                                                        var me = this,
                                                            value = me.callParent();

                                                        if (!me.submitLocaleSeparator) {
                                                            value = me.toRawNumber(value);
                                                        }
                                                        return value;
                                                    },
                                                    parseValue: function (value) {
                                                        if (!this.useThousandSeparator)
                                                            return this.callParent(arguments);
                                                        value = parseFloat(this.toRawNumber(value));
                                                        return isNaN(value) ? null : value;
                                                    },
                                                    getErrors: function (value) {
                                                        var me = this,
                                                            errors = Ext.form.field.Text.prototype.getErrors.apply(me, arguments),
                                                            format = Ext.String.format,
                                                            num;

                                                        value = Ext.isDefined(value) ? value : this.processRawValue(this.getRawValue());

                                                        if (value.length < 1) { // if it's blank and textfield didn't flag it then it's valid
                                                            return errors;
                                                        }

                                                        value = me.toRawNumber(value);

                                                        if (isNaN(value.replace(Ext.util.Format.thousandSeparator, ''))) {
                                                            errors.push(format(me.nanText, value));
                                                        }

                                                        num = me.parseValue(value);

                                                        if (me.minValue === 0 && num < 0) {
                                                            errors.push(this.negativeText);
                                                        }
                                                        else if (num < me.minValue) {
                                                            errors.push(format(me.minText, me.minValue));
                                                        }

                                                        if (num > me.maxValue) {
                                                            errors.push(format(me.maxText, me.maxValue));
                                                        }

                                                        return errors;
                                                    },
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 1,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: 'fit',
                                            items: [
                                                {
                                                    xtype: 'combobox',
                                                    fieldLabel: '수정사유',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    disabled: true
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    xtype: 'gridpanel',
                    border: false,
                    height: 250,
                    id: 'windowGrid',
                    margin: '0 5 0 0',
                    padding: '0 5 0 0',
                    style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px; border-width:thin;',
                    bodyBorder: false,
                    header: false,
                    title: 'My Grid Panel',
                    sortableColumns: false,
                    store: 'WinBillPopStore',
                    columns: [
                        {
                            xtype: 'rownumberer'
                        },
                        {
                            xtype: 'gridcolumn',
                            hidden: true,
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            width: 200,
                            dataIndex: 'MGM_NO',
                            text: '관리번호'
                        },
                        {
                            xtype: 'gridcolumn',
                            hidden: true,
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            width: 200,
                            dataIndex: 'MGM_SEQ',
                            text: '관리순번'
                        },
                        {
                            xtype: 'datecolumn',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            dataIndex: 'PUR_DATE',
                            text: '구입일자',
                            format: 'Y-m-d'
                        },
                        {
                            xtype: 'gridcolumn',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            width: 200,
                            sortable: false,
                            dataIndex: 'ITEM_NM',
                            text: '품목명'
                        },
                        {
                            xtype: 'gridcolumn',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            dataIndex: 'SPEC',
                            text: '규격'
                        },
                        {
                            xtype: 'numbercolumn',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            dataIndex: 'QTY',
                            align: 'end',
                            text: '수량',
                            format: '0,000',
                            editor: {
                                xtype: 'numberfield'
                            }
                        },
                        {
                            xtype: 'numbercolumn',
                            summaryRenderer: function(val, params, data, metaData) {
                                return "<font color='green'>합계 :<font>";
                            },
                            summaryType: 'count',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            align: 'end',
                            dataIndex: 'PRICE',
                            text: '단가',
                            format: '0,000',
                            editor: {
                                xtype: 'numberfield'
                            }
                        },
                        {
                            xtype: 'numbercolumn',
                            summaryRenderer: function(val, params, data, metaData) {
                                return "<font color='green'>"+Ext.util.Format.number(val, '0,000')+"<font>";
                            },
                            summaryType: 'sum',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            align: 'end',
                            dataIndex: 'SUPPLY_AMOUNT',
                            text: '공급가액',
                            format: '0,000',
                            editor: {
                                xtype: 'numberfield'
                            }
                        },
                        {
                            xtype: 'numbercolumn',
                            summaryRenderer: function(val, params, data, metaData) {
                                return "<font color='green'>"+Ext.util.Format.number(val, '0,000')+"<font>";
                            },
                            summaryType: 'sum',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            sortable: false,
                            align: 'end',
                            dataIndex: 'TAX',
                            text: '세액',
                            format: '0,000',
                            editor: {
                                xtype: 'numberfield'
                            }
                        },
                        {
                            xtype: 'gridcolumn',
                            style: 'font-size: 12px; text-align: center; font-weight: bold;',
                            width: 200,
                            sortable: false,
                            dataIndex: 'REMARK',
                            text: '비고',
                            editor: {
                                xtype: 'textfield'
                            }
                        },
                        {
                            xtype: 'gridcolumn',
                            width: 100,
                            sortable: false,
                            dataIndex: 'string'
                        }
                    ],
                    viewConfig: {
                        enableTextSelection: true
                    },
                    plugins: [
                        {
                            ptype: 'gridexporter'
                        },
                        {
                            ptype: 'cellediting',
                            clicksToEdit: 1
                        }
                    ],
                    features: [
                        {
                            ftype: 'summary'
                        }
                    ]
                },
                {
                    xtype: 'container',
                    flex: 1,
                    layout: {
                        type: 'vbox',
                        align: 'stretch',
                        padding: '0 2 0 0'
                    },
                    items: [
                        {
                            xtype: 'container',
                            layout: {
                                type: 'vbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'container',
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            flex: 0.7,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: {
                                                type: 'hbox',
                                                align: 'middle'
                                            },
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    flex: 1,
                                                    id: 'TOTAL_AMOUNT',
                                                    fieldLabel: '합계금액',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    labelWidth: 60,
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.7,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: {
                                                type: 'hbox',
                                                align: 'middle'
                                            },
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    flex: 1,
                                                    id: 'TOTAL_AMOUNT1',
                                                    value: 0,
                                                    fieldLabel: '현금',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    labelWidth: 60,
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.7,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: {
                                                type: 'hbox',
                                                align: 'middle'
                                            },
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    flex: 1,
                                                    id: 'TOTAL_AMOUNT2',
                                                    value: 0,
                                                    fieldLabel: '수표',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    labelWidth: 60,
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.7,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: {
                                                type: 'hbox',
                                                align: 'middle'
                                            },
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    flex: 1,
                                                    id: 'TOTAL_AMOUNT3',
                                                    value: 0,
                                                    fieldLabel: '어음',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    labelWidth: 60,
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 0.7,
                                            border: 1,
                                            margin: 1,
                                            style: 'border-style: solid; border-color: #2CA5E4; border-radius: 5px;',
                                            layout: {
                                                type: 'hbox',
                                                align: 'middle'
                                            },
                                            items: [
                                                {
                                                    xtype: 'numberfield',
                                                    flex: 1,
                                                    id: 'TOTAL_AMOUNT4',
                                                    value: 0,
                                                    fieldLabel: '외상미수금',
                                                    labelAlign: 'top',
                                                    labelStyle: 'text-align: center;',
                                                    labelWidth: 60,
                                                    fieldStyle: 'text-align: right;',
                                                    readOnly: true
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 1,
                                            layout: 'center',
                                            items: [
                                                {
                                                    xtype: 'radiogroup',
                                                    flex: 1,
                                                    id: 'V_CN_YN',
                                                    fieldLabel: '이금액을',
                                                    hideLabel: true,
                                                    labelWidth: 60,
                                                    layout: {
                                                        type: 'hbox',
                                                        align: 'stretch'
                                                    },
                                                    items: [
                                                        {
                                                            xtype: 'radiofield',
                                                            flex: 1,
                                                            name: 'CN_YN',
                                                            readOnly: true,
                                                            boxLabel: '영수함',
                                                            inputValue: 'A'
                                                        },
                                                        {
                                                            xtype: 'radiofield',
                                                            flex: 1,
                                                            name: 'CN_YN',
                                                            readOnly: true,
                                                            boxLabel: '청구함',
                                                            checked: true,
                                                            inputValue: 'B'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container'
                                }
                            ]
                        }
                    ]
                },
                {
                    xtype: 'container',
                    height: 35,
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
                    	{
                            xtype: 'button',
//                            disabled: true,
                            margin: '0 3 0 0',
                            text: '인쇄',
                            id: 'billPrintBtn'
                        },
                        {
                            xtype: 'container',
                            flex: 1
                        },
                        {
                            xtype: 'button',
//                            disabled: true,
                            margin: '0 3 0 0',
                            text: '저장',
                            id: 'billSaveBtn'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billSendBtn',
                        	text: '발행'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billDelSendBtn',
                        	text: '삭제발행'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billReSendBtn',
                        	text: '재발행'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billSendListBtn',
                        	text: '거래명세서 발행'
                        },
                        {
                            xtype: 'container',
                            flex: 1
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billMinusAmendBtn',
                        	text: '마이너스 수정발행'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billAmendBtn',
                        	text: '수정발행'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billAmendListBtn',
                        	text: '수정발행(거래명세서)'
                        },
                        {
                        	xtype: 'button',
                        	disabled: true,
                        	margin: '0 3 0 0',
                        	id: 'billAmendCancelBtn',
                        	text: '수정발행취소'
                        },
                        {
                        	xtype: 'container',
                        	flex: 1
                        },
                        {
                            xtype: 'button',
                            id: 'billWindowCloseBtn',
                            margin: '0 3 0 0',
                            text: '닫기'
                        },
                        
                    ]
                }
            ]
        },
        {
            xtype: 'hiddenfield',
            flex: 1,
            id: 'ERP_SEND_YN',
            fieldLabel: 'Label'
        }
    ]

});