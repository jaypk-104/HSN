/*
 * File: app/view/MyViewport.js
 *
 * This file was generated by Sencha Architect version 4.2.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('S_TAX_STEEL.view.MyViewport', {
    extend: 'Ext.container.Viewport',
    alias: 'widget.myviewport',

    requires: [
        'S_TAX_STEEL.view.MyViewportViewModel',
        'S_TAX_STEEL.view.MyViewportViewController',
        'S_TAX_STEEL.view.TbButton',
        'S_TAX_STEEL.view.MyForm',
        'S_TAX_STEEL.view.MyGrid',
        'S_TAX_STEEL.view.MyGrid1',
        'Ext.form.Panel',
        'Ext.grid.Panel',
        'Ext.resizer.Splitter',
        'Ext.form.FieldSet',
        'Ext.form.field.Date',
        'Ext.form.RadioGroup',
        'Ext.form.field.Radio'
    ],

    controller: 'myviewport',
    viewModel: {
        type: 'myviewport'
    },
    height: 250,
    style: 'background-color: white',
    width: 400,

    layout: {
        type: 'vbox',
        align: 'stretch'
    },
    items: [
        {
            xtype: 'toolbarBtn'
        },
        {
            xtype: 'container',
            flex: 1,
            padding: '0 10 0 10',
            layout: {
                type: 'vbox',
                align: 'stretch',
                pack: 'center'
            },
            items: [
                {
                    xtype: 'container',
                    flex: 0.5,
                    layout: {
                        type: 'vbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'myform',
                            bodyPadding: 0
                        },
                        {
                            xtype: 'myGrid',
                            flex: 1
                        }
                    ]
                },
                {
                    xtype: 'splitter',
                    collapseTarget: 'prev'
                },
                {
                    xtype: 'container',
                    flex: 0.5,
                    layout: {
                        type: 'vbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'fieldset',
                            flex: 1,
                            height: 170,
                            maxHeight: 170,
                            minHeight: 170,
                            title: '[ Search ]',
                            layout: {
                                type: 'vbox',
                                align: 'stretch',
                                pack: 'center'
                            },
                            items: [
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_TAX_BILL_NO',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '계산서관리번호',
                                            name: 'search_field',
                                            emptyText: '(Double Click)',
                                            editable: false,
                                            listeners: {
                                                afterrender: function(c) {
                                                	c.getEl().on('dblclick', function() {
                                                		var popup = Ext.create("S_TAX_STEEL.view.MyWindow1");
                                            			popup.setSize(Ext.getBody().getViewSize());
                                                        
                                                        popup.center();
                                                        popup.show();

                                                        var popStore = Ext.getStore('PopStore');
                                                        popStore.removeAll();                                        
                                                        
                                                    });
                                                }
                                            },
                                        },
                                        {
                                        	xtype: 'textfield',
                                        	margin: '0 0 0 30',
                                        	maxWidth: 250,
                                        	minWidth: 250,
                                        	width: 250,
                                        	fieldLabel: '발행처',
                                        	id: 'V_S_BP_NM2'
                                        },
                                        {
                                        	xtype: 'textfield',
                                        	margin: '0 0 0 30',
                                        	maxWidth: 250,
                                        	minWidth: 250,
                                        	width: 250,
                                        	fieldLabel: '발행처',
                                        	id: 'V_S_BP_CD2',
                                        	hidden: true
                                        },
                                        {
                                            xtype: 'datefield',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '발행일',
                                            format: 'Y-m-d',
                                            altFormats: 'm/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j|Ymd',
                                            listeners: {
                                                render: {
                                                    fn: 'onDatefieldRender',
                                                    single: false
                                                }
                                            },
                                            id: 'V_ISSUED_DT'
                                        },
                                        {
                                            xtype: 'combobox',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '매출채권형태',
                                            id: 'V_TAX_BILL_TYPE',
                                            blankText: '',
                                            displayField: 'DTL_NM',
                                            valueField: 'DTL_CD',
                                            editable: false,
                                            margin: '0 0 0 30',
                                            value: 'DSO',
                                            store: Ext.create('Ext.data.Store',{
                                          		autoLoad: true ,
                                          		storeId: 'storeSC02',
                                          		proxy: {
                                                      type: 'ajax',
                                                      extraParams: {
                                                       	V_MAST_CD: 'SC02',
                                                       	V_GRID: 'Y'
                                                      },	
                                                      api: {
                                                          read: '/HSPF01/common/sql/Combobox.jsp'
                                                      },
                                                      reader: {
                                                          type: 'json',
                                                          rootProperty: 'resultList'
                                                      }
                                                  }
                                          	}),
                                          	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                                  }
                                        
                                        },
                                        {
                                            xtype: 'radiogroup',
                                            flex: 1,
                                            margin: '0 0 0 30',
                                            maxWidth: 200,
                                            minWidth: 200,
                                            width: 200,
                                            fieldLabel: '발행유무',
                                            labelWidth: 60,
                                            items: [
                                                {
                                                    xtype: 'radiofield',
                                                    boxLabel: 'Y'
                                                },
                                                {
                                                    xtype: 'radiofield',
                                                    boxLabel: 'N'
                                                }
                                            ],
                                            hidden: true
                                        },
                                        {
                                            xtype: 'combobox',
                                            maxWidth: 330,
                                            minWidth: 330,
                                            width: 330,
                                            labelWidth: 150,
                                            fieldLabel: '세금계산서신고사업장',
                                            margin: '0 0 0 30',
                                            id: 'V_BIZ_AREA_CD',
                                            blankText: '',
                                            displayField: 'DTL_NM',
                                            valueField: 'DTL_CD',
                                            editable: false,
                                            value: 'TX3',
                                            store: Ext.create('Ext.data.Store',{
                                          		autoLoad: true,
                                          		storeId: 'storeMA16',
                                          		proxy: {
                                                      type: 'ajax',
                                                      extraParams: {
                                                       	V_MAST_CD: 'MA16',
                                                       	V_GRID: 'Y'
                                                      },	
                                                      api: {
                                                          read: '/HSPF01/common/sql/Combobox.jsp'
                                                      },
                                                      reader: {
                                                          type: 'json',
                                                          rootProperty: 'resultList'
                                                      }
                                                  }
                                          	}),
                                          	listConfig: {
                                                itemTpl: [
                                                          '<div>{DTL_NM} ({DTL_CD}) </div>'
                                                          ],
                                                  }
                                        }
                                    ]
                                },
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_TAX_DOC_NO',
                                            margin: '',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '세금계산서번호',
                                            name: 'search_field',
                                            emptyText: '(미입력시 자동채번)'
                                        },
                                        {
                                            xtype: 'radiogroup',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '전자세금계산서유무',
                                            labelWidth: 150,
                                            items: [
                                                {
                                                    xtype: 'radiofield',
                                                    boxLabel: 'Y'
                                                },
                                                {
                                                    xtype: 'radiofield',
                                                    boxLabel: 'N'
                                                }
                                            ],
                                            hidden: true
                                        },
                                        {
                                    		xtype: 'combobox',
                                            fieldLabel: '부가세유형',
                                            margin: '0 0 0 30',
                                            maxWidth: 330,
                                            minWidth: 330,
                                            width: 330,
//                                            labelWidth: 120,
                                            labelAlign: 'left',
                                    		displayField: 'DTL_NM',
                                    		autoLoadOnValue: true,
                                    		valueField: 'DTL_CD',
                                    		editable: false,
                                    		value: 'K',
                                    		store: Ext.create('Ext.data.Store',{
                                    			autoLoad: true,
                                    			storeId: 'store1',
                                    			proxy: {
                                    		           type: 'ajax',
                                    		           extraParams: {
                                    		            	V_MAST_CD: 'BA05',
                                    		            	V_GRID: 'Y'
                                    		           },	
                                    		           api: {
                                    		               read: '/HSPF01/common/sql/Combobox.jsp'
                                    		           },
                                    		           reader: {
                                    		               type: 'json',
                                    		               rootProperty: 'resultList'
                                    		           }
                                    		       }
                                    		}),
                                    		id: 'V_VAT_TYPE'
                                        },
                                        {
                                            xtype: 'numberfield',
                                            style: 'text-align: center; font-weight: bold;',
                                            fieldLabel: '부가세율',
                                            margin: '0 0 0 30',
                                            value: '0.000',
                                            width: 230,
                                            minWidth: 230,
                                            maxWidth: 230,
                                            id:'V_VAT_RATE'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'fieldcontainer',
                                    flex: 1,
                                    height: 35,
                                    margin: '0 0 3 0',
                                    maxHeight: 35,
                                    minHeight: 35,
                                    width: 400,
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            id: 'V_NET_AMT',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '공급금액',
                                            name: 'search_field',
                                            value : '0'
                                        },
                                        {
                                            xtype: 'textfield',
                                            id: 'V_VAT_AMT',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '부가세금액',
                                            name: 'search_field',
                                            value: '0'
                                        },
                                        {
                                            xtype: 'textfield',
                                            id: 'V_NET_LOC_AMT',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '공급자국금액',
                                            name: 'search_field',
                                            value : '0'
                                        },
                                        {
                                            xtype: 'textfield',
                                            id: 'V_TOTAL_AMT',
                                            margin: '0 0 0 30',
                                            maxWidth: 250,
                                            minWidth: 250,
                                            width: 250,
                                            fieldLabel: '전체금액',
                                            name: 'search_field',
                                            value : '0'
                                        },
                                        {
                                            xtype: 'hiddenfield',
                                            id: 'V_TAX_BILL_YN',
                                        },
                                        {
                                        	xtype: 'hiddenfield',
                                        	id: 'V_TAX_BILL_SEND_YN',
                                        },
                                        {
                                        	xtype: 'hiddenfield',
                                        	id: 'V_CR_TYPE',
                                        },
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'mygrid1',
                            flex: 1
                        }
                    ]
                }
            ]
        }
    ]

});