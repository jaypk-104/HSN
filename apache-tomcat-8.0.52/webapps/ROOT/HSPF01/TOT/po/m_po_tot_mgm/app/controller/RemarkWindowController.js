/*
 * File: app/controller/WinAddRowController.js
 *
 * This file was generated by Sencha Architect version 4.2.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('M_PO_TOT_MGM.controller.RemarkWindowController', {
    extend: 'Ext.app.Controller',

    control: {
        "#W_remarkCfmBtn": {
            click: 'W_remarkCfmBtnClick'
        }
    },

    W_remarkCfmBtnClick: function(button, e, eOpts) {
    	Ext.MessageBox.confirm('확인', '비고 수정 하시겠습니까?', function(btn) {
    		if (btn == 'yes') {
    			Ext.Ajax.request({
    				url : 'sql/M_PO_TOT_MGM.jsp',
    				method : 'post',
    				params : {
    					V_COMP_ID : parent.Ext.getCmp('GCOMP_ID').getValue(),
    					V_USR_ID : parent.Ext.getCmp('GUSER_ID').getValue(),
    					V_MAST_PO_NO : Ext.getCmp('V_MAST_PO_NO').getValue(),
    					V_REMARK : Ext.getCmp('W_REMARK').getValue(),
    					V_TYPE : 'REMARK_CHG',
    				},
    				success : function(response) {
//    					var jResult = Ext.JSON.decode(response.responseText);
    					
    					var tbController = M_PO_TOT_MGM.app.getController("TbButtonController");
    		    		tbController.selBtnClick();
    		    		
    					Ext.getCmp('RemarkWindow').destroy();
    				},
    				scope : this
    			});
    		}
    	});

    }

});
