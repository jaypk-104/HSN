/*
 * File: app/view/MySearchForm1.js
 *
 * This file was generated by Sencha Architect version 4.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Q_SUPPLIER_HSPF.view.MySearchForm1', {
    extend: 'Ext.form.Panel',
    alias: 'widget.mysearchform1',

    requires: [
        'Q_SUPPLIER_HSPF.view.MySearchFormViewModel1',
        'Ext.form.FieldSet',
        'Ext.form.FieldContainer',
        'Ext.form.Label',
        'Ext.form.field.Date',
        'Ext.form.field.Checkbox',
        'Ext.form.field.File'
    ],

    viewModel: {
        type: 'mysearchform1'
    },
    padding: '',
    layout: 'auto',
    bodyPadding: 10,
    header: false,
    title: 'MyForm',

    items: [
        {
            xtype: 'fieldset',
            border: 1,
            cls: 'gridfieldset',
            height: 315,
            maxHeight: 315,
            minHeight: 315,
            layout: {
                type: 'vbox',
                align: 'stretch',
                pack: 'center',
                padding: 10
            },
            items: [
                {
                    xtype: 'fieldcontainer',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'textfield',
                            id: 'W_ASN_NO',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '납품번호',//납품번호
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'textfield',
                            id: 'W_LOT_QTY',
                            margin: '0 0 0 50',
                            maxWidth: 195,
                            minWidth: 195,
                            width: 195,
                            fieldLabel: '로트수량',//로트수량
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'textfield',
                            id: 'W_UNIT',
                            margin: '0 0 0 5',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            fieldLabel: '단위',//단위
                            hideLabel: true,
                            labelStyle: 'font-size: 12px',
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            margin: '0 0 0 50',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            layout: 'center',
                            items: [
                                {
                                    xtype: 'label',
                                    style: 'text-align: center;',
                                    width: '100%',
                                    text: '작성'//작성
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            margin: '0 0 0 5',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            layout: 'center',
                            items: [
                                {
                                    xtype: 'label',
                                    style: 'text-align: center;',
                                    width: '100%',
                                    text: '승인'//승인
                                }
                            ]
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
						{
						    xtype: 'textfield',
						    id: 'W_LOT_NO',
						    maxWidth: 300,
						    minWidth: 300,
						    width: 300,
						    fieldLabel: '로트번호',//로트번호
						    labelStyle: 'font-size: 12px',
						    labelWidth: 80,
						    name: 'search_field',
						    fieldStyle: 'background-color: #EEEEEE',
						    readOnly: true,
						    blankText: ''
						},
                        {
                            xtype: 'textfield',
                            id: 'W_SAMPLE_QTY',
                            margin: '0 0 0 50',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '샘플수량',//샘플수량
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'textfield',
                            id: 'W_WRITER',
                            margin: '0 0 0 50',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            fieldLabel: '작성자',//작성자
                            hideLabel: true,
                            fieldStyle: 'background-color: #EEEEEE',
                            labelWidth: 80,
                            name: 'search_field',
                            blankText: '',
                            readOnly: true
                        },
                        {
                            xtype: 'textfield',
                            id:'W_APPROVER',
                            margin: '0 0 0 5',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            fieldLabel: '결재자',//결제자
                            hideLabel: true,
                            fieldStyle: 'background-color: #EEEEEE',
                            labelWidth: 80,
                            name: 'search_field',
                            blankText: '',
                            readOnly: true
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
						{
						    xtype: 'textfield',
						    id: 'W_ITEM_CD',
						    maxWidth: 300,
						    minWidth: 300,
						    width: 300,
						    fieldLabel: '품번',//품번
						    labelStyle: 'font-size: 12px',
						    labelWidth: 80,
						    name: 'search_field',
						    fieldStyle: 'background-color: #EEEEEE',
						    readOnly: true,
						    blankText: ''
						},
                        {
                            xtype: 'datefield',
                            id: 'W_DLVY_AVL_DT',
                            margin: '0 0 0 50',
                            maxWidth: 300,
                            minWidth: 300,
                            style: '',
                            width: 300,
                            fieldLabel: '납품예정일',//납품예정일자
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            format: 'Y-m-d'
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            margin: '0 0 0 50',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            layout: 'center',
                            items: [
                                {
                                    xtype: 'checkboxfield',
                                    id:'W_WRITERYN',
                                    disabled: true,
                                    fieldLabel: 'Label',
                                    hideLabel: true,
                                    listeners: {
    	                                change: function (checkbox, newVal, oldVal) {
    	                                    if (newVal == '1' && oldVal == '0') {
    	                                    	var nows = new Date();
    	                                    	var flg = true;
    	                                    	
    	                                    	var store = Ext.getCmp('myGrid1').getStore();
    	                                    	store.each(function(record, idx) {
    	                                    		if(record.data['RESULT_YN'] == '' || record.data['RESULT_YN'] == null){
    	                        	    				flg = false;
    	                        	    			}
    	                                    	})
    	                                    	
    	                                    	if(flg){
    	                                    		Ext.getCmp('W_WRITER').setValue(parent.Ext.getCmp('GUSER_NM').getValue());
        	                                    	Ext.getCmp('W_APPDATE1').setValue(nows);
        	                                    	Ext.getCmp('W_APPROVERYN').setDisabled(false);
        	                                    	
        	                                    	Ext.getCmp('W_OK_QTY').setFieldStyle('background-color: #EEEEEE');
        	                                    	Ext.getCmp('W_OK_QTY').setReadOnly(true);
        	                                    	Ext.getCmp('W_BAD_QTY').setFieldStyle('background-color: #EEEEEE');
        	                                    	Ext.getCmp('W_BAD_QTY').setReadOnly(true);
        	                                    	Ext.getCmp('W_INSPECTOR').setFieldStyle('background-color: #EEEEEE');
        	                                    	Ext.getCmp('W_INSPECTOR').setReadOnly(true);
        	                                    	Ext.getCmp('W_INSP_DT').setFieldStyle('background-color: #EEEEEE');
        	                                    	Ext.getCmp('W_INSP_DT').setReadOnly(true);
    	                                    	}
    	                                    	else{
    	                                    		if(store.getCount() > 0){
    	                                    			Ext.getCmp('W_WRITERYN').setValue(false);
        	                                    		Ext.Msg.alert('확인', '검사결과가 없습니다.');	
    	                                    		}
    	                                    	}
    	                                    }
    	                                    else{
    	                                    	Ext.getCmp('W_WRITER').setValue('');
    	                                    	Ext.getCmp('W_APPDATE1').setValue('');
    	                                    	Ext.getCmp('W_APPROVERYN').setDisabled(true);
    	                                    	
    	                                    	Ext.getCmp('W_OK_QTY').setFieldStyle('background-color: #FFFFFF');
    	                                    	Ext.getCmp('W_OK_QTY').setReadOnly(false);
    	                                    	Ext.getCmp('W_BAD_QTY').setFieldStyle('background-color: #FFFFFF');
    	                                    	Ext.getCmp('W_BAD_QTY').setReadOnly(false);
    	                                    	Ext.getCmp('W_INSPECTOR').setFieldStyle('background-color: #FFFFFF');
    	                                    	Ext.getCmp('W_INSPECTOR').setReadOnly(false);
    	                                    	Ext.getCmp('W_INSP_DT').setFieldStyle('background-color: #FFFFFF');
    	                                    	Ext.getCmp('W_INSP_DT').setReadOnly(false);
    	                                    }
    	                                }
    	                            }
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            margin: '0 0 0 5',
                            maxWidth: 100,
                            minWidth: 100,
                            width: 100,
                            layout: 'center',
                            items: [
                                {
                                    xtype: 'checkboxfield',
                                    id:'W_APPROVERYN',
                                    disabled: true,
                                    fieldLabel: 'Label',
                                    hideLabel: true,
                                    listeners: {
    	                                change: function (checkbox, newVal, oldVal) {
    	                                    if (newVal == '1' && oldVal == '0') {
    	                                    	var nows = new Date();
    	                                    	
    	                                    	Ext.getCmp('W_APPROVER').setValue(parent.Ext.getCmp('GUSER_NM').getValue());
    	                                    	Ext.getCmp('W_APPDATE2').setValue(nows);
    	                                    	Ext.getCmp('W_WRITERYN').setDisabled(true);
    	                                    }
    	                                    else{
    	                                    	Ext.getCmp('W_APPROVER').setValue('');
    	                                    	Ext.getCmp('W_APPDATE2').setValue('');
    	                                    	Ext.getCmp('W_WRITERYN').setDisabled(false);
    	                                    }
    	                                }
    	                            }
                                }
                            ]
                        },
                        {
						    xtype: 'textfield',
						    id: 'W_HSTN_ITEM_CD',
						    maxWidth: 300,
						    minWidth: 300,
						    width: 300,
						    fieldLabel: '품번',//품번
						    labelStyle: 'font-size: 12px',
						    labelWidth: 80,
						    name: 'search_field',
						    fieldStyle: 'background-color: #EEEEEE',
						    hidden:true,
						    blankText: ''
						},
                        {
						    xtype: 'textfield',
						    id: 'W_SL_CD',
						    maxWidth: 300,
						    minWidth: 300,
						    width: 300,
						    fieldLabel: '창고',//품번
						    labelStyle: 'font-size: 12px',
						    labelWidth: 80,
						    name: 'search_field',
						    fieldStyle: 'background-color: #EEEEEE',
						    hidden:true,
						    blankText: ''
						}
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'textfield',
                            id: 'W_ITEM_NM',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '품명',//품명
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'textfield',
                            id: 'W_OK_QTY',
                            margin: '0 0 0 50',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '합격수량',//합격수량
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            blankText: ''
                        },
                        {
                            xtype: 'datefield',
                            id:'W_APPDATE1',
                            readOnly: true,
                            margin: '0 0 0 50',
                            maxWidth: 100,
                            minWidth: 100,
                            style: '',
                            width: 100,
                            fieldLabel: '작성아래쪽',
                            hideLabel: true,
                            labelStyle: 'font-size: 12px',
                            fieldStyle: 'background-color: #EEEEEE',
                            labelWidth: 80,
                            name: 'search_field',
                            emptyText: '_ _ _ _-_ _-_ _',
                            format: 'Y-m-d'
                        },
                        {
                            xtype: 'datefield',
                            id:'W_APPDATE2',
                            readOnly: true,
                            margin: '0 0 0 5',
                            maxWidth: 100,
                            minWidth: 100,
                            style: '',
                            width: 100,
                            fieldLabel: '승인아래쪽',
                            hideLabel: true,
                            labelStyle: 'font-size: 12px',
                            fieldStyle: 'background-color: #EEEEEE',
                            labelWidth: 80,
                            name: 'search_field',
                            emptyText: '_ _ _ _-_ _-_ _',
                            format: 'Y-m-d'
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'textfield',
                            id: 'W_HS_TYPE_NM',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '검사방법',//검사방법
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            fieldStyle: 'background-color: #EEEEEE',
                            readOnly: true,
                            blankText: ''
                        },
                        {
                            xtype: 'textfield',
                            id: 'W_BAD_QTY',
                            margin: '0 0 0 50',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '불량수량',//불량수량
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            blankText: ''
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    items: [
                        {
                            xtype: 'textfield',
                            id: 'W_INSPECTOR',
                            margin: '0 0 0 0',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '검사자',//검사자
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            blankText: ''
                        },
                        {
                            xtype: 'datefield',
                            id: 'W_INSP_DT',
                            margin: '0 0 0 50',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '검사일자',//검사일자
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            format: 'Y-m-d',
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    margins: '',
                    layout: {
                        type: 'hbox',
                        align: 'stretch'
                    },
                    hidden: true,
                    items: [
                        {
                            xtype: 'textfield',
                            id : 'W_FILE',
                            maxWidth: 300,
                            minWidth: 300,
                            width: 300,
                            fieldLabel: '첨부파일',//첨부문서
                            labelStyle: 'font-size: 12px',
                            labelWidth: 80,
                            name: 'search_field',
                            emptyText: 'double click',
                            readOnly: true
                        },
                        {
                            xtype: 'label',
                            flex: 1,
                            dock: 'center',
                            margin: '3 0 0 3',
                            text: '( >> Double Click )'
                        }
                    ]
                }
            ]
        }
    ]

});